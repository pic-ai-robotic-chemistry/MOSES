@echo off
rem 切换代码页为 UTF-8，解决中文乱码问题
chcp 65001 > nul

rem 切换到批处理文件所在的目录，解决“文件找不到”的问题
cd /d "%~dp0"

echo ======================================================
echo           开始自动构建知识库 (顺序执行)
echo ======================================================
echo.

echo --- 任务 1: 正在构建 gpt-4.1-nano 的知识库... ---
python lightrag_kg.py gpt-4.1-nano
echo.
echo --- 任务 1: gpt-4.1-nano 构建完成。 ---
echo.

echo --- 任务 2: 正在构建 gpt-4.1 的知识库... ---
python lightrag_kg.py gpt-4.1
echo.
echo --- 任务 2: gpt-4.1 构建完成。 ---
echo.

echo ======================================================
echo       ✅ 所有知识库均已构建完成。
echo       您现在可以运行 query_models.py 脚本了。
echo ======================================================
echo.
pause